<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Amelia - Sistema de Contabilidad para gesti√≥n de inventarios, ventas y reportes">
    <meta name="theme-color" content="#667eea">
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkFtZWxpYSAtIFNpc3RlbWEgZGUgQ29udGFiaWxpZGFkIiwKICAic2hvcnRfbmFtZSI6ICJBbWVsaWEiLAogICJkZXNjcmlwdGlvbiI6ICJTZXJ2aWNpbyBkZSBnZXN0acOzbiBkZSBpbnZlbnRhcmlvcywgdmVudGFzIHkgcmVwb3J0ZXMiLAogICJzdGFydF91cmwiOiAiLyIsCiAgImRpc3BsYXkiOiAic3RhbmRhbG9uZSIsCiAgImJhY2tncm91bmRfY29sb3IiOiAiIzY2N2VlYSIsCiAgInRoZW1lX2NvbG9yIjogIiM2NjdlZWEiLAogICJvcmllbnRhdGlvbiI6ICJwb3J0cmFpdCIsCiAgImljb25zIjogWwogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeE1qZ2lJR2hsYVdkb2REMGlNVEk0SWo0OGNtVmpkQ0IzYVdSMGFEMGlNVEk0SWlCb1pXbG5hSFE5SWpFeU9DSWdabWxzYkQwaUl6WTJOMlZsWVNJdlBqeDBaWGgwSUhnOUlqWTBJaUI1UFNJM01DSWdabWxzYkQwaWQyaHBkR1VpSUdadmJuUXRjMmw2WlQwaU5EQWlJR1p2Ym5RdFptRnRhV3g1UFNKa1pXWmhkV3gwSWo0NE1EazNPR055Qkh0OGRHVjRkRDQ4TDNOMlp6ND0iLAogICAgICAic2l6ZXMiOiAiMTI4eDEyOCIsCiAgICAgICJ0eXBlIjogImltYWdlL3N2Zyt4bWwiCiAgICB9LAogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJek1UY2lJR2hsYVdkb2REMGlNekUzSWo0OGNtVmpkQ0IzYVdSMGFEMGlNekUzSWlCb1pXbG5hSFE5SWpNeE55SWdabWxzYkQwaUl6WTJOMlZsWVNJdlBqeDBaWGgwSUhnOUlqVXdJaUI1UFNJNE1DSWdabWxzYkQwaWQyaHBkR1VpSUdadmJuUXRjMmw2WlQwaU5UZ2lJR1p2Ym5RdFptRnRhV3g1UFNKa1pXWmhkV3gwSWo0NE1EazNPR055Qkh0OGRHVjRkRDQ4TDNOMlp6ND0iLAogICAgICAic2l6ZXMiOiAiMzE3eDMxNyIsCiAgICAgICJ0eXBlIjogImltYWdlL3N2Zyt4bWwiCiAgICB9CiAgXQp9">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4Ij48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgZmlsbD0iIzY2N2VlYSIvPjx0ZXh0IHg9IjY0IiB5PSI3MCIgZmlsbD0id2hpdGUiIGZvbnQtc2l6ZT0iNDAiIGZvbnQtZmFtaWx5PSJkZWZhdWx0Ij7wn5OKPC90ZXh0Pjwvc3ZnPg==">
    <title>Amelia - Sistema de Contabilidad</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea, #764ba2);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5rem;
        }
        
        .login-form {
            max-width: 400px;
            margin: 0 auto;
            padding: 40px;
            background: #f8f9fa;
            border-radius: 15px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .btn-warning {
            background: #ffc107;
            color: #333;
        }
        
        .btn-small {
            padding: 6px 12px;
            font-size: 12px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            z-index: 1000;
        }
        
        .notification.success {
            background: #28a745;
        }
        
        .notification.error {
            background: #dc3545;
        }
        
        .notification.warning {
            background: #ffc107;
            color: #333;
        }
        
        .user-info {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 5px;
            margin-bottom: 30px;
            overflow-x: auto;
        }
        
        .nav-tab {
            flex: 1;
            padding: 15px 20px;
            background: transparent;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            color: #6c757d;
            min-width: 120px;
            text-align: center;
        }
        
        .nav-tab.active {
            background: #667eea;
            color: white;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }
        
        .stat-card h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .stat-card p {
            font-size: 2rem;
            font-weight: bold;
            margin: 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #f8f9fa;
        }
        
        th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        /* Estilos para PWA - Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 20px;
                border-radius: 15px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
            
            .nav-tabs {
                overflow-x: auto;
                scrollbar-width: none;
                -ms-overflow-style: none;
            }
            
            .nav-tabs::-webkit-scrollbar {
                display: none;
            }
            
            .nav-tab {
                min-width: 100px;
                font-size: 14px;
                padding: 12px 15px;
            }
            
            table {
                font-size: 14px;
            }
            
            th, td {
                padding: 10px 8px;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 14px;
            }
            
            .btn-small {
                padding: 5px 10px;
                font-size: 11px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .login-form {
                padding: 30px 20px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                margin: 5px;
                padding: 15px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .stat-card {
                padding: 20px;
            }
            
            .stat-card h3 {
                font-size: 1rem;
            }
            
            .stat-card p {
                font-size: 1.5rem;
            }
            
            h1 {
                font-size: 1.5rem;
            }
            
            .login-form {
                padding: 20px 15px;
            }
        }
        
        /* Estilos para modo instalado */
        @media (display-mode: standalone) {
            body {
                padding-top: 10px;
            }
        }
    </style>
</head>
<body>
    
    <div class="container">
        <h1 id="appTitle">üìä Amelia - Iniciar Sesi√≥n</h1>
        
        <!-- Login Screen -->
        <div id="loginScreen" class="tab-content active">
            <div class="login-form">
                <h2 style="text-align: center; margin-bottom: 30px;">üîê Iniciar Sesi√≥n</h2>
                
                <div class="form-group">
                    <label>Usuario:</label>
                    <input type="text" id="username" placeholder="Ingrese su usuario">
                </div>
                <div class="form-group">
                    <label>Contrase√±a:</label>
                    <input type="password" id="password" placeholder="Ingrese su contrase√±a">
                </div>
                <button class="btn btn-primary" onclick="login()" style="width: 100%;">Iniciar Sesi√≥n</button>
            </div>
        </div>
        
        <!-- Main System -->
        <div id="mainSystem" class="tab-content">
            <div class="user-info">
                <h3 id="userWelcome">Bienvenido</h3>
                <p id="userRole">Rol: Usuario</p>
                <p id="userEmail">Email: usuario@amelia.com</p>
            </div>
            
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="showTab('products')">üì¶ Inventario</button>
                <button class="nav-tab" onclick="showTab('sales')">üí∞ Ventas</button>
                <button class="nav-tab" onclick="showTab('reports')">üìä Reportes</button>
                <button class="nav-tab" id="usersTab" onclick="showTab('users')" style="display:none;">üë• Usuarios</button>
                <button class="nav-tab" onclick="logout()">üö™ Salir</button>
            </div>
            
            <!-- Products Tab -->
            <div id="products" class="tab-content active">
                <h2>üì¶ Gesti√≥n de Inventario</h2>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label>C√≥digo del Zapato:</label>
                        <input type="text" id="productCode" placeholder="Ej: ZAP001">
                    </div>
                    <div class="form-group">
                        <label>Nombre del Zapato:</label>
                        <input type="text" id="productName" placeholder="Ej: Nike Air Max">
                    </div>
                    <div class="form-group">
                        <label>Talla:</label>
                        <input type="text" id="productSize" placeholder="Ej: 42">
                    </div>
                    <div class="form-group">
                        <label>Color:</label>
                        <input type="text" id="productColor" placeholder="Ej: Negro">
                    </div>
                    <div class="form-group">
                        <label>Precio de Compra:</label>
                        <input type="number" id="buyPrice" placeholder="0.00" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label>Precio de Venta:</label>
                        <input type="number" id="sellPrice" placeholder="0.00" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label>Stock:</label>
                        <input type="number" id="stock" placeholder="0" min="0">
                    </div>
                    <div class="form-group">
                        <label>Stock M√≠nimo:</label>
                        <input type="number" id="minStock" placeholder="5" min="0" value="5">
                    </div>
                </div>
                
                <div style="margin-bottom: 30px;">
                    <button class="btn btn-success" onclick="addProduct()">‚ûï Agregar Producto</button>
                    <button class="btn btn-primary" onclick="clearProductForm()">üßπ Limpiar</button>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>üí∞ Ventas Totales</h3>
                        <p id="totalSalesAmount">$0</p>
                    </div>
                    <div class="stat-card">
                        <h3>üì¶ Productos</h3>
                        <p id="totalProducts">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>üìà Ganancia Neta</h3>
                        <p id="netProfit">$0</p>
                    </div>
                </div>
                
                <table>
                    <thead>
                        <tr>
                            <th>C√≥digo</th>
                            <th>Nombre</th>
                            <th>Talla</th>
                            <th>Color</th>
                            <th>Precio Compra</th>
                            <th>Precio Venta</th>
                            <th>Stock</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="productsBody">
                    </tbody>
                </table>
            </div>
            
            <!-- Sales Tab -->
            <div id="sales" class="tab-content">
                <h2>üí∞ Registro de Ventas</h2>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label>Producto:</label>
                        <select id="saleProduct">
                            <option value="">Seleccionar producto...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Cantidad:</label>
                        <input type="number" id="saleQuantity" placeholder="1" min="1" value="1">
                    </div>
                    <div class="form-group">
                        <label>Cliente:</label>
                        <input type="text" id="saleCustomer" placeholder="Nombre del cliente">
                    </div>
                    <div class="form-group">
                        <label>M√©todo de Pago:</label>
                        <select id="paymentMethod">
                            <option value="efectivo">Efectivo</option>
                            <option value="tarjeta">Tarjeta</option>
                            <option value="transferencia">Transferencia</option>
                        </select>
                    </div>
                </div>
                
                <div style="margin-bottom: 30px;">
                    <button class="btn btn-success" onclick="addSale()">üí∞ Registrar Venta</button>
                    <button class="btn btn-primary" onclick="clearSaleForm()">üßπ Limpiar</button>
                </div>
                
                <table>
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Producto</th>
                            <th>Cliente</th>
                            <th>Cantidad</th>
                            <th>Total</th>
                            <th>M√©todo Pago</th>
                        </tr>
                    </thead>
                    <tbody id="salesBody">
                    </tbody>
                </table>
            </div>
            
            <!-- Reports Tab -->
            <div id="reports" class="tab-content">
                <h2>üìä Reportes y An√°lisis</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>üìà Ventas del Mes</h3>
                        <p id="monthSales">$0</p>
                    </div>
                    <div class="stat-card">
                        <h3>üì¶ Productos Vendidos</h3>
                        <p id="productsSold">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>üí∞ Ganancia Total</h3>
                        <p id="totalProfit">$0</p>
                    </div>
                </div>
                
                <h3>üìã Resumen de Ventas</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Producto</th>
                            <th>Cantidad Vendida</th>
                            <th>Ingresos</th>
                        </tr>
                    </thead>
                    <tbody id="reportsBody">
                    </tbody>
                </table>
            </div>
            
            <!-- Users Tab - Solo para Admin Principal -->
            <div id="users" class="tab-content">
                <h2>üë• Gesti√≥n de Usuarios</h2>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label>Nombre Completo:</label>
                        <input type="text" id="userName" placeholder="Nombre completo del usuario">
                    </div>
                    <div class="form-group">
                        <label>Usuario:</label>
                        <input type="text" id="userUsername" placeholder="Nombre de usuario">
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" id="userEmail" placeholder="correo@ejemplo.com">
                    </div>
                    <div class="form-group">
                        <label>Contrase√±a:</label>
                        <input type="password" id="userPassword" placeholder="Contrase√±a">
                    </div>
                    <div class="form-group">
                        <label>Tipo de Usuario:</label>
                        <select id="userType">
                            <option value="business_owner">Due√±o de Negocio</option>
                            <option value="seller">Vendedor</option>
                        </select>
                    </div>
                    <div class="form-group" id="businessOwnerFields">
                        <label>Nombre del Negocio:</label>
                        <input type="text" id="userBusiness" placeholder="Nombre del negocio">
                    </div>
                    <div class="form-group" id="sellerFields" style="display: none;">
                        <label>Negocio al que pertenece:</label>
                        <select id="parentBusiness">
                            <option value="">Seleccionar negocio...</option>
                        </select>
                    </div>
                </div>
                
                <div style="margin-bottom: 30px;">
                    <button class="btn btn-success" onclick="addUser()">üë§ Crear Usuario</button>
                    <button class="btn btn-primary" onclick="clearUserForm()">üßπ Limpiar</button>
                </div>
                
                <h3>üìã Usuarios Registrados</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Usuario</th>
                            <th>Email</th>
                            <th>Tipo</th>
                            <th>Negocio</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="usersBody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        /* C√≥digo JS completo pegado por el usuario */
        // (Por motivos de espacio, no se vuelve a pegar aqu√≠, pero se subir√° en el archivo)
    </script>
</body>
</html>
